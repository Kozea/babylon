{% extends "layout.html" %}
{% block body %} 

<h1>Ranking</h1>
{% if users %}
<a href="{{ url_for('ranking_graph')}}">Watch monthly ranking evolution</a>
{% endif %}
<table>
{% for user in users %}
<tr>
    <th>
        <figure>
            <img src={{user.photo}}>
            <figcaption>
                
                <h2>
                    {{loop.index}}
                </h2>
                
                <h3>
                    {{user.get_full_name()}}
                </h3>
                
                {% if user.nickname %}
                <h4>
                    {{user.nickname}}
                </h4>
                {% endif %}
                
                {% if user.number_of_match != 0 %}
                <h4>
                    {{user.nb_victories}} 
                    
                    {% if user.nb_victories==1 %}
                        Victory
                    {% else %}
                        Victories
                    {% endif %}
                </h4>
                
                
                <h4>
                    
                    {{user.nb_defeats}}
                    
                    {% if user.nb_defeats==1 %}
                        Defeat
                    {% else %}
                        Defeats
                    {% endif %}
                </h4>
                <h4>
                    Ratio : {{(user.nb_victories/user.number_of_match)*100}} %
                </h4>
                <svg>
                {{ user.ratio_gauge.render()|safe }}
                </svg>
                {% else %}
                <h4>
                    Hasn't played yet
                </h4>
                
                {% endif %}
                
            </figcaption>
        </figure>
    </th>
    <th>
        {{user.ranking}}
    </th>
    
    <th>

    </th>
    
    <th>

    </th>
    
    <th>

    </th>

        
</tr>
{% else %}
There is no scores yet ! 
{% endfor %}
</table>

{% endblock %}
